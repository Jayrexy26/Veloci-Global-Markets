<!DOCTYPE html>
<html lang="en">
<head>
<meta charset="UTF-8"/>
<meta name="viewport" content="width=device-width, initial-scale=1.0"/>
<title>Coinluxora User Dashboard</title>

<script src="https://cdn.jsdelivr.net/npm/@supabase/supabase-js@2"></script>

<style>
/* ================= ROOT ================= */
:root{
  --bg:#050a18;
  --stroke:rgba(255,255,255,.12);
  --text:#eaf0ff;
  --muted:rgba(234,240,255,.65);
  --ok:#22c55e;
  --err:#f87171;
  --blue:#5b6cff;
  --purple:#7c4dff;
  --green:#34d399;
}
*{box-sizing:border-box}
body{
  margin:0;
  font-family:system-ui,-apple-system,Segoe UI,Roboto,Arial,sans-serif;
  background:
    radial-gradient(900px 420px at 10% 0%, rgba(83,113,255,.22), transparent 55%),
    radial-gradient(900px 420px at 90% 0%, rgba(52,211,153,.18), transparent 55%),
    var(--bg);
  color:var(--text);
  padding:16px;
  padding-bottom:96px;
}
.container{max-width:920px;margin:0 auto}

/* ================= TOP BAR ================= */
.topRow{
  display:flex;
  align-items:center;
  justify-content:space-between;
  gap:12px;
  margin-bottom:14px;
}
.brand{
  display:flex;align-items:center;gap:12px;
  padding:12px 14px;
  border-radius:16px;
  border:1px solid rgba(255,255,255,.14);
  background:linear-gradient(90deg, rgba(109,87,255,1), rgba(135,116,255,0.86));
  color:white;
  font-weight:1000;
  letter-spacing:.6px;
  box-shadow:0 18px 50px rgba(109,87,255,.25);
  min-width:140px;
}
.brandIcon{
  width:34px;height:34px;border-radius:12px;
  background:rgba(255,255,255,.18);
  border:1px solid rgba(255,255,255,.22);
  display:grid;place-items:center;
}
.headerActions{
  display:flex;
  gap:10px;
  align-items:center;
}

/* ===== USER AVATAR BUTTON (NEW) ===== */
.avatarBtn{
  width:46px;
  height:46px;
  border-radius:999px;
  border:1px solid rgba(255,255,255,.18);
  background:linear-gradient(180deg, rgba(124,77,255,1), rgba(109,87,255,1));
  color:white;
  font-size:20px;
  font-weight:1000;
  cursor:pointer;
  display:grid;
  place-items:center;
  box-shadow:0 16px 40px rgba(124,77,255,.35);
}
.avatarBtn:hover{filter:brightness(1.05)}

.iconBtn{
  width:46px;height:46px;border-radius:999px;
  border:1px solid rgba(255,255,255,.14);
  background:rgba(0,0,0,.18);
  color:white;
  font-weight:1000;
  cursor:pointer;
  box-shadow:0 16px 40px rgba(0,0,0,.35);
}

/* ================= HELLO CARD ================= */
.helloCard{
  border-radius:18px;
  padding:14px;
  background:linear-gradient(90deg, rgba(109,87,255,1), rgba(255,77,166,0.98));
  color:white;
  box-shadow:0 18px 50px rgba(109,87,255,.22);
  display:flex;
  justify-content:space-between;
  align-items:center;
}
.helloLeft{display:flex;gap:12px;align-items:center}
.helloLogo{
  width:46px;height:46px;border-radius:16px;
  background:rgba(255,255,255,.20);
  border:1px solid rgba(255,255,255,.22);
  display:grid;place-items:center;
}
.helloTitle{font-weight:1000;font-size:18px}
.helloSub{font-size:12px;font-weight:900;opacity:.9}

/* ================= BALANCE ================= */
.balanceCard{
  margin-top:14px;
  border-radius:22px;
  padding:16px;
  border:1px solid rgba(255,255,255,.10);
  background:
    radial-gradient(900px 400px at 15% 20%, rgba(0,0,0,0.55), transparent 55%),
    radial-gradient(900px 400px at 70% 20%, rgba(52,211,153,0.22), transparent 55%),
    linear-gradient(135deg, rgba(3,7,18,0.92), rgba(15,23,42,0.84));
}
.bTitle{font-size:13px;font-weight:1000}
.bValue{font-size:34px;font-weight:1000;margin-top:8px}

/* ================= ACTIONS ================= */
.actionGrid{
  margin-top:16px;
  display:grid;
  grid-template-columns:repeat(4,1fr);
  gap:12px;
}
.action{
  border-radius:18px;
  background:rgba(255,255,255,.08);
  border:1px solid rgba(255,255,255,.12);
  padding:14px;
  display:flex;
  flex-direction:column;
  align-items:center;
  gap:8px;
  cursor:pointer;
}
.aIcon{
  width:48px;height:48px;border-radius:999px;
  display:grid;place-items:center;
  font-size:20px;
  color:#fff;
}
.aSend{background:linear-gradient(180deg,#6d57ff,#7c4dff)}
.aReceive{background:linear-gradient(180deg,#18c07b,#11b981)}
.aPlans{background:linear-gradient(180deg,#f59e0b,#f97316)}
.aSupport{background:linear-gradient(180deg,#38bdf8,#5b6cff)}
.aText{font-weight:1000;font-size:13px}

/* ================= BOTTOM NAV ================= */
.bottomNav{
  position:fixed;left:0;right:0;bottom:0;
  height:76px;
  background:rgba(2,6,23,.78);
  border-top:1px solid rgba(255,255,255,.12);
  display:flex;
  justify-content:space-around;
  align-items:center;
}
.navItem{
  flex:1;
  display:flex;
  flex-direction:column;
  align-items:center;
  font-size:12px;
  font-weight:1000;
  color:rgba(234,240,255,.55);
}
.navActive{color:#9bdcff}
</style>
</head>

<body>

<div class="container">

  <!-- TOP BAR -->
  <div class="topRow">
    <div class="brand">
      <div class="brandIcon">üì£</div>
      COIN
    </div>

    <div class="headerActions">
      <!-- ‚úÖ USER AVATAR BUTTON -->
      <button class="avatarBtn" onclick="goProfile()" title="Profile">
        üë§
      </button>

      <!-- MENU -->
      <button class="iconBtn" onclick="openMenu()" title="Menu">‚ò∞</button>
    </div>
  </div>

  <!-- HELLO -->
  <div class="helloCard">
    <div class="helloLeft">
      <div class="helloLogo">üì∂</div>
      <div>
        <div class="helloTitle">Hello! üëã</div>
        <div class="helloSub" id="email">Loading‚Ä¶</div>
      </div>
    </div>
  </div>

  <!-- BALANCE -->
  <div class="balanceCard">
    <div class="bTitle">Total Portfolio Value</div>
    <div class="bValue" id="balance">$0.00</div>

    <div class="actionGrid">
      <div class="action" onclick="goWithdraw()">
        <div class="aIcon aSend">‚úàÔ∏è</div>
        <div class="aText">Send</div>
      </div>
      <div class="action" onclick="goDeposit()">
        <div class="aIcon aReceive">‚¨áÔ∏è</div>
        <div class="aText">Receive</div>
      </div>
      <div class="action" onclick="goPlans()">
        <div class="aIcon aPlans">üìà</div>
        <div class="aText">Plans</div>
      </div>
      <div class="action" onclick="goSupport()">
        <div class="aIcon aSupport">üí¨</div>
        <div class="aText">Support</div>
      </div>
    </div>
  </div>

</div>

<!-- BOTTOM NAV -->
<div class="bottomNav">
  <div class="navItem navActive">üè† Home</div>
  <div class="navItem" onclick="goDeposit()">üí≥ Deposit</div>
  <div class="navItem" onclick="goWithdraw()">‚û° Withdraw</div>
  <div class="navItem" onclick="goPlans()">üíº Plans</div>
  <div class="navItem" onclick="goProfile()">üë§ Profile</div>
</div>

<script>
const SUPABASE_URL="https://xdcscknfomlzwysczegc.supabase.co";
const SUPABASE_ANON_KEY="YOUR_KEY";
const supabaseClient=supabase.createClient(SUPABASE_URL,SUPABASE_ANON_KEY);

/* AUTH + VERIFIED GUARD */
(async()=>{
  const { data } = await supabaseClient.auth.getUser();
  if(!data.user || !data.user.email_confirmed_at){
    window.location.href="login.html";
  }
})();

/* NAV */
function goProfile(){ window.location.href="profile.html"; }
function goDeposit(){ window.location.href="deposits.html"; }
function goWithdraw(){ window.location.href="withdraw.html"; }
function goPlans(){ window.location.href="plans.html"; }
function goSupport(){ window.location.href="support.html"; }
function openMenu(){ /* sidebar logic stays */ }
</script>

</body>
</html>
